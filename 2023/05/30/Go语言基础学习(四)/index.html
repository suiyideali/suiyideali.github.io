<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Go语言基础学习(四) | Mochazz&#39;blog</title>

  
  <meta name="author" content="Mochazz">
  

  
  <meta name="description" content="range在线程不安全的 map 中学习了 map 的遍历，里面使用了一个叫 range 的关键字来对 map 进行遍历操作。
1. 基本用法range 可以用来遍历的对象有数组、切片、map、字符串以及通道。遍历的对象不同，range 的返回值也会有所不同。遍历数组、切片和字符串时，它返回的就是数">
  

  
  
  <meta name="keywords" content="Go">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Go语言基础学习(四)"/>

  <meta property="og:site_name" content="Mochazz&#39;blog"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Mochazz&#39;blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Mochazz&#39;blog</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Go语言基础学习(四)</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/05/30/Go语言基础学习(四)/" rel="bookmark">
        <time class="entry-date published" datetime="2023-05-30T04:48:19.000Z">
          2023-05-30
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="range"><a href="#range" class="headerlink" title="range"></a>range</h1><p>在线程不安全的 map 中学习了 map 的遍历，里面使用了一个叫 <strong>range</strong> 的关键字来对 map 进行遍历操作。</p>
<h2 id="1-基本用法"><a href="#1-基本用法" class="headerlink" title="1. 基本用法"></a>1. 基本用法</h2><p><strong>range</strong> 可以用来遍历的对象有<strong>数组、切片、map、字符串</strong>以及<strong>通道</strong>。遍历的对象不同，<strong>range</strong> 的返回值也会有所不同。遍历数组、切片和字符串时，它返回的就是数据的<strong>索引和值</strong>。遍历map时返回的就是map的<strong>key和value</strong>。而遍历通道时则只返回<strong>通道中的数据</strong>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	str := <span class="string">&quot;Codey&quot;</span></span><br><span class="line">	intArray := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	intSlice := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">	m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;Apple&quot;</span>: <span class="string">&quot;苹果&quot;</span>, <span class="string">&quot;Orange&quot;</span>: <span class="string">&quot;橘子&quot;</span>, <span class="string">&quot;Bannana&quot;</span>: <span class="string">&quot;香蕉&quot;</span>&#125;</span><br><span class="line">	c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">	c &lt;- <span class="number">10</span></span><br><span class="line">	c &lt;- <span class="number">11</span></span><br><span class="line">	c &lt;- <span class="number">12</span></span><br><span class="line">	c &lt;- <span class="number">13</span></span><br><span class="line">	c &lt;- <span class="number">14</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;---字符串的遍历---&quot;</span>)</span><br><span class="line">	<span class="comment">//遍历字符串</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> str &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;索引: %d,值: %c\n&quot;</span>, k, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;---数组的遍历---&quot;</span>)</span><br><span class="line">	<span class="comment">//遍历数组</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> intArray &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;索引: %d,值: %d\n&quot;</span>, k, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;---切片的遍历---&quot;</span>)</span><br><span class="line">	<span class="comment">//遍历切片</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> intSlice &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;索引: %d,值: %d\n&quot;</span>, k, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;---map的遍历---&quot;</span>)</span><br><span class="line">	<span class="comment">//遍历map</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;key: %s,value: %s\n&quot;</span>, k, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;---通道的遍历---&quot;</span>)</span><br><span class="line">	<span class="comment">//遍历通道</span></span><br><span class="line">	<span class="keyword">for</span> v := <span class="keyword">range</span> c &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;值：%d\n&quot;</span>, v)</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">len</span>(c) == <span class="number">0</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">---字符串的遍历---</span><br><span class="line">索引: 0,值: C</span><br><span class="line">索引: 1,值: o</span><br><span class="line">索引: 2,值: d</span><br><span class="line">索引: 3,值: e</span><br><span class="line">索引: 4,值: y</span><br><span class="line">---数组的遍历---</span><br><span class="line">索引: 0,值: 1</span><br><span class="line">索引: 1,值: 2</span><br><span class="line">索引: 2,值: 3</span><br><span class="line">索引: 3,值: 4</span><br><span class="line">索引: 4,值: 5</span><br><span class="line">---切片的遍历---</span><br><span class="line">索引: 0,值: 1</span><br><span class="line">索引: 1,值: 2</span><br><span class="line">索引: 2,值: 3</span><br><span class="line">索引: 3,值: 4</span><br><span class="line">索引: 4,值: 5</span><br><span class="line">---map的遍历---</span><br><span class="line">key: Apple,value: 苹果</span><br><span class="line">key: Orange,value: 橘子</span><br><span class="line">key: Bannana,value: 香蕉</span><br><span class="line">---通道的遍历---</span><br><span class="line">值：10</span><br><span class="line">值：11</span><br><span class="line">值：12</span><br><span class="line">值：13</span><br><span class="line">值：14</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>若是在开发过程中只想用到遍历对象的索引或者值</strong>。可以使用<code>_</code>来接收不需要使用的值。如果是只想用索引的话，可以直接只用一个参数接收遍历对象传出的值，<strong>默认只会接收索引</strong>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;Apple&quot;</span>: <span class="string">&quot;苹果&quot;</span>, <span class="string">&quot;Orange&quot;</span>: <span class="string">&quot;橘子&quot;</span>, <span class="string">&quot;Banana&quot;</span>: <span class="string">&quot;香蕉&quot;</span>&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;---map的key值---&quot;</span>)</span><br><span class="line">	<span class="comment">//只取key</span></span><br><span class="line">	<span class="keyword">for</span> k := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;key:%s\n&quot;</span>, k)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;---map的value值---&quot;</span>)</span><br><span class="line">	<span class="comment">//只取value</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;value: %s\n&quot;</span>, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---map的key值---</span><br><span class="line">key:Apple</span><br><span class="line">key:Orange</span><br><span class="line">key:Banana</span><br><span class="line">---map的value值---</span><br><span class="line">value: 苹果</span><br><span class="line">value: 橘子</span><br><span class="line">value: 香蕉</span><br></pre></td></tr></table></figure>

<h2 id="2-注意事项"><a href="#2-注意事项" class="headerlink" title="2. 注意事项"></a>2. 注意事项</h2><p>在使用 range 的时候需要注意，<strong>我们无法通过range输出的值来修改遍历的对象</strong>，因为range相当于<strong>声明了两个变量</strong>，这两个变量逐一<strong>复制</strong>了遍历对象中的值，归根结底还是因为 <strong>Go 语言只有值传递，没有引用传递</strong>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	intSlice := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 遍历切片</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> intSlice &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;索引: %d,索引地址: %p\n&quot;</span>, k, &amp;k)</span><br><span class="line">		fmt.Printf(<span class="string">&quot;值：%d,值地址：%p\n&quot;</span>, v, &amp;v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">索引: 0,索引地址: 0x1400001c0a8</span><br><span class="line">值：1,值地址：0x1400001c0b0</span><br><span class="line">索引: 1,索引地址: 0x1400001c0a8</span><br><span class="line">值：2,值地址：0x1400001c0b0</span><br><span class="line">索引: 2,索引地址: 0x1400001c0a8</span><br><span class="line">值：3,值地址：0x1400001c0b0</span><br><span class="line">索引: 3,索引地址: 0x1400001c0a8</span><br><span class="line">值：4,值地址：0x1400001c0b0</span><br><span class="line">索引: 4,索引地址: 0x1400001c0a8</span><br><span class="line">值：5,值地址：0x1400001c0b0</span><br></pre></td></tr></table></figure>



<h1 id="Go-语言拓展已有类型"><a href="#Go-语言拓展已有类型" class="headerlink" title="Go 语言拓展已有类型"></a>Go 语言拓展已有类型</h1><p>在开发中，仅仅使用 Go 语言自带的变量是无法满足我们的业务需求的，就算勉强能满足，但对整个项目代码后期的维护和其可读性，都会带来很大的不便。所以几乎所有语言都支持自定义数据类型。在 Go 语言中可以使用 <strong>type</strong> 关键字自定义数据类型。</p>
<h2 id="1-自定义复杂类型"><a href="#1-自定义复杂类型" class="headerlink" title="1. 自定义复杂类型"></a>1. 自定义复杂类型</h2><p>可以使用<code>type Name Type</code>去自定义一个<strong>全新的数据类型</strong>。这个类型的变量就使用<code>Name</code>来声明。通常<strong>type</strong>用于将一个<strong>复杂的数据类型定义为一个全新的数据类型</strong>，便于后续使用。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line"><span class="string">&quot;fmt&quot;</span>  </span><br><span class="line"><span class="string">&quot;reflect&quot;</span>  </span><br><span class="line">)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> stringList []<span class="type">string</span> <span class="comment">//自定义一个数据类型，这个数据类型为字符串切片，命名为 stringList  </span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">strList := stringList&#123;<span class="string">&quot;test1&quot;</span>, <span class="string">&quot;test2&quot;</span>&#125; <span class="comment">//给变量 strList 定义为 stringList 类型并赋值  </span></span><br><span class="line">fmt.Println(<span class="string">&quot;strList的数据类型: &quot;</span>, reflect.TypeOf(strList)) <span class="comment">//打印 strList 的数据类型  </span></span><br><span class="line">fmt.Println(<span class="string">&quot;strList的值: &quot;</span>, reflect.TypeOf(strList)) <span class="comment">//打印 strList 的值  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strList的数据类型:  main.stringList</span><br><span class="line">strList的值:  main.stringList</span><br></pre></td></tr></table></figure>

<h2 id="2-别名"><a href="#2-别名" class="headerlink" title="2. 别名"></a>2. 别名</h2><p><strong>type</strong>关键字还有一种用法，就是以<strong>已经存在的数据类型</strong>进行类型自定义，这种用法就叫做<strong>别名</strong>。顾名思义，就是给已经存在的数据类型起一个新名字。常用于使用常量来开发<strong>枚举</strong>功能时。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Grade <span class="type">int</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> (  </span><br><span class="line">FirstGrade Grade = <span class="literal">iota</span>  </span><br><span class="line">SecondGrade  </span><br><span class="line">ThirdGrade  </span><br><span class="line">FourthGrade  </span><br><span class="line">FifthGrade  </span><br><span class="line">SixthGrade  </span><br><span class="line">)  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">fmt.Println(<span class="string">&quot;FirstGrade :&quot;</span>, FirstGrade)  </span><br><span class="line">fmt.Println(<span class="string">&quot;SecondGrade :&quot;</span>, SecondGrade)  </span><br><span class="line">fmt.Println(<span class="string">&quot;ThirdGrade :&quot;</span>, ThirdGrade)  </span><br><span class="line">fmt.Println(<span class="string">&quot;FourthGrade :&quot;</span>, FourthGrade)  </span><br><span class="line">fmt.Println(<span class="string">&quot;FifthGrade :&quot;</span>, FifthGrade)  </span><br><span class="line">fmt.Println(<span class="string">&quot;SixthGrade :&quot;</span>, SixthGrade)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FirstGrade : 0</span><br><span class="line">SecondGrade : 1</span><br><span class="line">ThirdGrade : 2</span><br><span class="line">FourthGrade : 3</span><br><span class="line">FifthGrade : 4</span><br><span class="line">SixthGrade : 5</span><br></pre></td></tr></table></figure>

<h1 id="Go-语言的结构体和“面向对象”"><a href="#Go-语言的结构体和“面向对象”" class="headerlink" title="Go 语言的结构体和“面向对象”"></a>Go 语言的结构体和“面向对象”</h1><p>Go 语言中没有明确的面向对象的概念，当然也没有明确的面向过程的概念。面向哪一方面编程完全取决于程序员如何使用，如果想要面向对象编程，Go 语言中提供了相对应的解决方案来模拟面向对象。</p>
<h2 id="1-结构体类型"><a href="#1-结构体类型" class="headerlink" title="1.  结构体类型"></a>1.  结构体类型</h2><p>想要模拟面向对象就首先要了解一下 Go 语言中的结构体类型。当需要两个以上的基本数据类型或自定义类型来声明定义函数的时候，就可以使用结构体。结构体变量使用<code>struct&#123;...&#125;</code>的形式来定义。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line"><span class="string">&quot;fmt&quot;</span>  </span><br><span class="line"><span class="string">&quot;reflect&quot;</span>  </span><br><span class="line">)  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line"><span class="keyword">var</span> student1 <span class="keyword">struct</span> &#123;  </span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line">&#125;  </span><br><span class="line">student1.Name = <span class="string">&quot;Mochazz&quot;</span>  </span><br><span class="line">student1.Age = <span class="number">18</span>  </span><br><span class="line">  </span><br><span class="line">fmt.Println(<span class="string">&quot;student1数据类型: &quot;</span>, reflect.TypeOf(student1))  </span><br><span class="line">fmt.Println(<span class="string">&quot;student1的值：&quot;</span>, reflect.ValueOf(student1))  </span><br><span class="line">  </span><br><span class="line">student2 := <span class="keyword">struct</span> &#123;  </span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line">&#125;&#123;  </span><br><span class="line">Name: <span class="string">&quot;Mochazz&quot;</span>,  </span><br><span class="line">Age: <span class="number">18</span>, <span class="comment">//逗号不能忘记，若是和大括号同行时逗号才能省略  </span></span><br><span class="line">&#125;  </span><br><span class="line">fmt.Println(<span class="string">&quot;student2的数据类型: &quot;</span>, reflect.TypeOf(student2))  </span><br><span class="line">fmt.Println(<span class="string">&quot;student2的值: &quot;</span>, reflect.ValueOf(student2))  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">student1数据类型:  struct &#123; Name string; Age int &#125;</span><br><span class="line">student1的值： &#123;Mochazz 18&#125;</span><br><span class="line">student2的数据类型:  struct &#123; Name string; Age int &#125;</span><br><span class="line">student2的值:  &#123;Mochazz 18&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-使用自定义类型来模拟对象"><a href="#2-使用自定义类型来模拟对象" class="headerlink" title="2. 使用自定义类型来模拟对象"></a>2. 使用自定义类型来模拟对象</h2><p>使用自定义数据类型的方式来自定义一个结构体类型，这样就可以达到定义一个对象的相同效果。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line"><span class="string">&quot;fmt&quot;</span>  </span><br><span class="line"><span class="string">&quot;reflect&quot;</span>  </span><br><span class="line">)  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123; <span class="comment">//自定义一个结构体数据类型 Student。也可以解读为，创建一个&quot;Student类&quot;  </span></span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line"><span class="keyword">var</span> student1 Student <span class="comment">//声明一个 Student 类型的变量 student1。也可以解读为，创建一个&quot;Student对象&quot;  </span></span><br><span class="line">  </span><br><span class="line">student1.Name = <span class="string">&quot;Mochazz&quot;</span>  </span><br><span class="line">student1.Age = <span class="number">18</span>  </span><br><span class="line">  </span><br><span class="line">fmt.Println(<span class="string">&quot;student1数据类型: &quot;</span>, reflect.TypeOf(student1))  </span><br><span class="line">fmt.Println(<span class="string">&quot;student1的值：&quot;</span>, reflect.ValueOf(student1))  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">student1数据类型:  main.Student</span><br><span class="line">student1的值： &#123;Mochazz 18&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-使用函数来模拟面向对象的方法"><a href="#3-使用函数来模拟面向对象的方法" class="headerlink" title="3. 使用函数来模拟面向对象的方法"></a>3. 使用函数来模拟面向对象的方法</h2><p>Go 语言中的函数为自定义数据类型提供了一种特别的使用方式，形如<br><code>func(变量名 自定义数据类型)函数名(...)&#123;...&#125;</code>。<br>函数名前可以接收一个自定数据类型的参数，参数传递的形式为<code>自定义数据类型变量.函数名()</code>的形式传递，这样外表看起来就和面向对象编程一致了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;  </span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newStudent</span><span class="params">(name <span class="type">string</span>, age <span class="type">int</span>)</span></span> Student &#123;  </span><br><span class="line"><span class="keyword">return</span> Student&#123;Name: name, Age: age&#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Student)</span></span> PrintAge() &#123; <span class="comment">//打印传入的 Student 自定义类型参数 Age 属性。也可以解读为创建一个打印学生&quot;对象&quot;年龄的&quot;方法&quot;  </span></span><br><span class="line">fmt.Println(s.Age)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">student1 := newStudent(<span class="string">&quot;Mochazz&quot;</span>, <span class="number">18</span>)  </span><br><span class="line">student2 := newStudent(<span class="string">&quot;Moka&quot;</span>, <span class="number">19</span>)  </span><br><span class="line">fmt.Println(<span class="string">&quot;student1年龄: &quot;</span>)  </span><br><span class="line">student1.PrintAge() <span class="comment">//使用自定义类型变量 student1 为参数调用 PrintAge。也可也解读为 student1 &quot;对象&quot;调用PrintAge “方法”  </span></span><br><span class="line">fmt.Println(<span class="string">&quot;student2年龄：&quot;</span>)  </span><br><span class="line">student2.PrintAge()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">student1年龄: </span><br><span class="line">18</span><br><span class="line">student2年龄：</span><br><span class="line">19</span><br></pre></td></tr></table></figure>

<h1 id="Go-语言中的接口"><a href="#Go-语言中的接口" class="headerlink" title="Go 语言中的接口"></a>Go 语言中的接口</h1><p>在所有编程语言中，接口都是一些<strong>方法的集合</strong>，通常都是”类”们都需要实现的一些公共方法。使这些”类”在使用过程中多了一层抽象。在使用接口时无需在意这些方法是如何实现的，只需在意这个接口中的方法本身。<br>Go 语言提倡<strong>面向接口编程</strong>，一来增强代码的可读性，二来可以使代码的模块之间的关系变得更加清晰、边界更加明显。</p>
<h2 id="1-接口的定义"><a href="#1-接口的定义" class="headerlink" title="1. 接口的定义"></a>1. 接口的定义</h2><p>在 Go 语言中，接口也是一个数据类型，该类型使用结构 <code>interface&#123;...&#125;</code> 来定义。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stuInterface <span class="keyword">interface</span>&#123;</span><br><span class="line">    PrintAge()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码定义可一个接口类型的变量，其中包含的方法为 PrintAge()。</p>
<h2 id="2-接口实现"><a href="#2-接口实现" class="headerlink" title="2. 接口实现"></a>2. 接口实现</h2><p>在 Go 语言的接口中有两个非常重要的特性：</p>
<ul>
<li>只要有类<strong>实现（模拟）了接口中包含的所有方法，就称这个类型实现了这个接口</strong>；</li>
<li>只要是实现了这个接口的类型，用这个类型定义的变量就可以给这个<strong>接口声明的变量赋值</strong>。</li>
</ul>
<p>所以从以上两个特性也可以推出 <strong>interface{}</strong> 类型的变量，可以接收 <strong>任何变量的赋值</strong>。这两个特性也被称为鸭子类型，即”走起来像鸭子，叫起来像鸭子（类型模拟了接口中包含的所有方法），那么它就是一只鸭子”。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> stuInterface <span class="keyword">interface</span> &#123;  </span><br><span class="line">PrintAge()  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;  </span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Student)</span></span> PrintAge() &#123;  </span><br><span class="line">fmt.Println(s.Age)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">stuInterface = Student&#123;  </span><br><span class="line">Name: <span class="string">&quot;Mochazz&quot;</span>,  </span><br><span class="line">Age: <span class="number">18</span>,  </span><br><span class="line">&#125;  </span><br><span class="line">stuInterface.PrintAge()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">18</span><br></pre></td></tr></table></figure>

<h2 id="3-自定义接口类型"><a href="#3-自定义接口类型" class="headerlink" title="3. 自定义接口类型"></a>3. 自定义接口类型</h2><p>为了方便使用，一般都会使用自定义类型来定义一个接口类型。同时还可以写一个函数来实例化接口。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> StudentInterface <span class="keyword">interface</span> &#123;  </span><br><span class="line">PrintAge()  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;  </span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Student)</span></span> PrintAge() &#123;  </span><br><span class="line">fmt.Println(s.Age)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newStudent</span><span class="params">(name <span class="type">string</span>, age <span class="type">int</span>)</span></span> StudentInterface &#123;  </span><br><span class="line"><span class="keyword">return</span> Student&#123;  </span><br><span class="line">Name: name,  </span><br><span class="line">Age: age,  </span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">stuInterface := newStudent(<span class="string">&quot;Mochazz&quot;</span>, <span class="number">18</span>)  </span><br><span class="line">  </span><br><span class="line">stuInterface.PrintAge()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">18</span><br></pre></td></tr></table></figure>

<h1 id="Go-语言类型的内嵌"><a href="#Go-语言类型的内嵌" class="headerlink" title="Go 语言类型的内嵌"></a>Go 语言类型的内嵌</h1><p>在 Go 语言中的类型是可以直接内嵌到结构体中的，可以看作是一个没有属性名的属性。同时接口中也可以内嵌接口，并且只能内嵌接口。</p>
<h2 id="1-结构体内嵌类型"><a href="#1-结构体内嵌类型" class="headerlink" title="1. 结构体内嵌类型"></a>1. 结构体内嵌类型</h2><p>结构体中内嵌类型在开发中用的并不多，这只是一个延伸特性。意味着结构体在定义属性字段的时候可以只写类型，不写属性名，但是一个类型只能写一个，不然结构体会无法识别你调用的时候使用的是哪个字段，这种只写类型不写属性名的属性被称为匿名字段。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;  </span><br><span class="line">Name <span class="type">string</span>  </span><br><span class="line">Age <span class="type">int</span>  </span><br><span class="line"><span class="type">int</span>  <span class="comment">//结构体中内嵌了一个int类型</span></span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newStudent</span><span class="params">(name <span class="type">string</span>, age <span class="type">int</span>)</span></span> Student &#123;  </span><br><span class="line"><span class="keyword">return</span> Student&#123;  </span><br><span class="line">Name: name,  </span><br><span class="line">Age: age,  </span><br><span class="line"><span class="type">int</span>: <span class="number">10</span>, <span class="comment">//给匿名字段赋值的时候直接使用其字段类型即可  </span></span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">stu := newStudent(<span class="string">&quot;Mochazz&quot;</span>, <span class="number">18</span>)  </span><br><span class="line">fmt.Println(<span class="string">&quot;匿名字段的值: &quot;</span>, stu.<span class="type">int</span>) <span class="comment">//打印匿名字段的值  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">匿名字段的值:  10</span><br></pre></td></tr></table></figure>

<h2 id="2-结构体内嵌结构体"><a href="#2-结构体内嵌结构体" class="headerlink" title="2. 结构体内嵌结构体"></a>2. 结构体内嵌结构体</h2><p>结构体内嵌结构体是用的最多的一种内嵌方式。它有点类似于面向对向语言中的继承，但是面向对象的设计原则中最好不要有多继承。甚至于 java 这个面向对象语言的老大哥，直接就是不允许多继承的。所以 Go 语言中的内嵌结构体更好理解为组合。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Callabale <span class="keyword">struct</span>&#123;&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Callabale)</span></span> Call() &#123;  </span><br><span class="line">fmt.Println(<span class="string">&quot;can call&quot;</span>)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Photographic <span class="keyword">struct</span>&#123;&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Photographic)</span></span> Photograph() &#123;  </span><br><span class="line">fmt.Println(<span class="string">&quot;can take photos&quot;</span>)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Moblie <span class="keyword">struct</span> &#123;  </span><br><span class="line">Callabale  </span><br><span class="line">Photographic  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Pad <span class="keyword">struct</span> &#123;  </span><br><span class="line">Photographic  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line"><span class="keyword">var</span> m Moblie  </span><br><span class="line">fmt.Println(<span class="string">&quot;Moble Function:&quot;</span>)  </span><br><span class="line">m.Call()  </span><br><span class="line">m.Photograph()  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> p Pad  </span><br><span class="line">fmt.Println(<span class="string">&quot;Pad Function:&quot;</span>)  </span><br><span class="line">p.Photograph()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Moble Function:</span><br><span class="line">can call</span><br><span class="line">can take photos</span><br><span class="line">Pad Function:</span><br><span class="line">can take photos</span><br></pre></td></tr></table></figure>

<h2 id="3-接口内嵌接口"><a href="#3-接口内嵌接口" class="headerlink" title="3. 接口内嵌接口"></a>3. 接口内嵌接口</h2><p>接口内嵌接口也是一个非常实用的特性，可以使用这个功能来使同一个结构体，放在不同的接口中，而能使用的功能不同。常用的权限控制，对一个相同的数据结构，但是能操作的权限可以用接口分开。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;  </span><br><span class="line">Read()  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> &#123;  </span><br><span class="line">Write()  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> OnlyReader <span class="keyword">interface</span> &#123;  </span><br><span class="line">Reader  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> ReaderAndWriter <span class="keyword">interface</span> &#123;  </span><br><span class="line">Reader  </span><br><span class="line">Writer  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> file <span class="keyword">struct</span>&#123;&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f file)</span></span> Read() &#123;  </span><br><span class="line">fmt.Println(<span class="string">&quot;Read something&quot;</span>)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f file)</span></span> Write() &#123;  </span><br><span class="line">fmt.Println(<span class="string">&quot;Write something&quot;</span>)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">f := file&#123;&#125;  </span><br><span class="line"><span class="keyword">var</span> rAndW ReaderAndWriter  </span><br><span class="line">rAndW = f  </span><br><span class="line">rAndW.Read()  </span><br><span class="line">rAndW.Write()  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> onlyR OnlyReader  </span><br><span class="line">onlyR = f  </span><br><span class="line">onlyR.Read()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Read something</span><br><span class="line">Write something</span><br><span class="line">Read something</span><br></pre></td></tr></table></figure>

<h1 id="Go-语言中的nil"><a href="#Go-语言中的nil" class="headerlink" title="Go 语言中的nil"></a>Go 语言中的nil</h1><p><strong>nil</strong> 是 Go 语言中内置的一个标识符，有人会把它当作其它语言中的NULL，这个是<strong>不准确的</strong>。</p>
<h2 id="1-nil-是特殊的零值"><a href="#1-nil-是特殊的零值" class="headerlink" title="1. nil 是特殊的零值"></a>1. nil 是特殊的零值</h2><p>在 Go 语言中，任何一个变量在声明之后会自动被<strong>赋予一个零值</strong>。数值类型的变量零值为0，字符串为””,而<strong>指针、切片、map、通道、函数和接口</strong>的零值就是nil。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>  </span><br><span class="line"><span class="keyword">var</span> p *<span class="type">int</span>  </span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">chan</span> <span class="type">int</span>  </span><br><span class="line"><span class="keyword">var</span> s []<span class="type">int</span>  </span><br><span class="line"><span class="keyword">var</span> f <span class="function"><span class="keyword">func</span><span class="params">()</span></span>  </span><br><span class="line"><span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;  </span><br><span class="line">fmt.Printf(<span class="string">&quot;map:%#v\n&quot;</span>, m)  </span><br><span class="line">fmt.Printf(<span class="string">&quot;指针:%#v\n&quot;</span>, p)  </span><br><span class="line">fmt.Printf(<span class="string">&quot;通道:%#v\n&quot;</span>, c)  </span><br><span class="line">fmt.Printf(<span class="string">&quot;切片:%#v\n&quot;</span>, s)  </span><br><span class="line">fmt.Printf(<span class="string">&quot;函数:%#v\n&quot;</span>, f)  </span><br><span class="line">fmt.Printf(<span class="string">&quot;接口:%#v\n&quot;</span>, i)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">map:map[int]string(nil)</span><br><span class="line">指针:(*int)(nil)</span><br><span class="line">通道:(chan int)(nil)</span><br><span class="line">切片:[]int(nil)</span><br><span class="line">函数:(func())(nil)</span><br><span class="line">接口:&lt;nil&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-nil-标识符无法比较"><a href="#2-nil-标识符无法比较" class="headerlink" title="2. nil 标识符无法比较"></a>2. nil 标识符无法比较</h2><p>在 Go 语言中 <strong>nil 和 nil 之间是无法比较的</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="literal">nil</span> == <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./hello.go:8:21: invalid operation: nil == nil (operator == not defined on untyped nil)</span><br></pre></td></tr></table></figure>

<h2 id="3-不同类型的的-nil-的长度不同"><a href="#3-不同类型的的-nil-的长度不同" class="headerlink" title="3. 不同类型的的 nil 的长度不同"></a>3. 不同类型的的 nil 的长度不同</h2><p>不同类型的变量的<strong>内存分配都是不同的</strong>，即使是 <strong>nil</strong> ，分配的内存也是不同的。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> m <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span></span><br><span class="line">    <span class="keyword">var</span> p *<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> c <span class="keyword">chan</span> <span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> s []<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> f <span class="function"><span class="keyword">func</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;map:&quot;</span>, unsafe.Sizeof( m ))</span><br><span class="line">    fmt.Println(<span class="string">&quot;指针:&quot;</span>, unsafe.Sizeof(p))</span><br><span class="line">    fmt.Println(<span class="string">&quot;通道:&quot;</span>, unsafe.Sizeof(c))</span><br><span class="line">    fmt.Println(<span class="string">&quot;切片:&quot;</span>, unsafe.Sizeof(s))</span><br><span class="line">    fmt.Println(<span class="string">&quot;函数:&quot;</span>, unsafe.Sizeof(f))</span><br><span class="line">    fmt.Println(<span class="string">&quot;接口:&quot;</span>, unsafe.Sizeof(i))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">map: 8</span><br><span class="line">指针: 8</span><br><span class="line">通道: 8</span><br><span class="line">切片: 24</span><br><span class="line">函数: 8</span><br><span class="line">接口: 16</span><br></pre></td></tr></table></figure>

<h1 id="Go-语言的函数式编程"><a href="#Go-语言的函数式编程" class="headerlink" title="Go 语言的函数式编程"></a>Go 语言的函数式编程</h1><p>函数式编程的基础特点为：</p>
<ul>
<li>函数是一等公民，即<strong>函数可以做为变量</strong>。</li>
<li>纯函数，即函数内的操作不可影响到函数外。</li>
</ul>
<p>Go 语言的函数式编程<strong>无需遵循第二点</strong>，这一特性为 Go 语言的函数式编程带来了更大的灵活性。</p>
<h2 id="1-编程示例"><a href="#1-编程示例" class="headerlink" title="1. 编程示例"></a>1. 编程示例</h2><p><strong>普通方式实现 1+2+3+…+100的值</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">a := <span class="number">0</span>  </span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++ &#123;  </span><br><span class="line">a = a + i  </span><br><span class="line">&#125;  </span><br><span class="line">fmt.Println(a)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>函数式编程实现</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">type</span> iAdder <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span>  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">()</span></span> iAdder &#123;  </span><br><span class="line">sum := <span class="number">0</span>  </span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(v <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;  </span><br><span class="line">sum += v  </span><br><span class="line"><span class="keyword">return</span> sum  </span><br><span class="line">&#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">a := adder()  </span><br><span class="line"><span class="keyword">var</span> s <span class="type">int</span>  </span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++ &#123;  </span><br><span class="line">s = a(i)  </span><br><span class="line">&#125;  </span><br><span class="line">fmt.Println(s)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>两者比较，后者将整个<strong>累加过程作为变量</strong>放置在了循环以外，使得整个累加可以脱离循环之外。看起来就像是不断的对一个传入的常数进行加工，就像是<strong>流水线的一个工具</strong>。所以函数式编程在开发过程中经常会用在对<strong>数据的长流程处理</strong>。例如，录入身份证号时，要从身份证号中获取年龄，籍贯、性别等信息，就可以使用三个函数对身份证号进行顺序处理。这样写的好处就在于可以随时<strong>增删其流程</strong>。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/code/">code</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Go/">Go</a>
    </span>
    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2023 Mochazz
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>